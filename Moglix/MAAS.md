# Table of Contents

| S No. | Approach                                          |
| ----- | ------------------------------------------------- |
| 1     | [About Project](#About-Project)                   |
| 2     | [Project Configurations](#Project-Configurations) |
| 3     | [Contributers](#Contributers)                     |
| 4     | [Project Flow](#Project-Flow)                     |
| 5     | [My Contributions](#My-Contributions)             |

# About Project

**Introducing MAAS:** The knowledge repository is designed to centralize project attachments, progress reports, and financial data in one accessible location. This project optimizes the management of bulk orders, enabling smooth tracking and updating of financial transactions and customer interactions throughout the entire order lifecycle. With efficient categorization and tagging mechanisms in place, users can easily search and filter through project documents, enhancing the user experience. This repository not only improves accessibility to vital information but also fosters collaboration and informed decision-making across teams. Ultimately, it serves as a crucial resource for knowledge sharing and project management, contributing significantly to operational efficiency.supply chains.

- <a href="https://github.com/moglilab/maas-ui">GitHub Repository</a>
- <a href="https://maas.moglix.com/">View Live Project</a>

**[⬆ Back to Top](#table-of-contents)**





# Project Configurations

| Requirement | Version          |
| ----------- | ---------------- |
| Node.js     | 16.14.2 or later |
| Angular CLI | 12.2.13          |
| npm         | 8.5.0 or later   |
| TypeScript  | 4.3.5            |

**[⬆ Back to Top](#table-of-contents)**

# Contributers

<p align="center">
    <table>
        <tr>
            <td align="center">
                <a href="https://www.linkedin.com/in/sanjay9616/" target="_blank" title="Sanjay Kumar">
                    <img src="https://github.com/user-attachments/assets/959ee001-8a02-407e-af5d-3a61fae65679" alt="Sanjay Kumar" width="150" height="150" />
                    <br>
                    <b>Sanjay Kumar</b><br>
                    <div>Web Developer</div>
                </a>
            </td>
            <td align="center">
                <a href="https://www.linkedin.com/in/amit-singh-a3a91810a/" target="_blank" title="Amit Singh">
                    <img src="https://github.com/user-attachments/assets/52af004f-d600-4ac9-9c0a-1b9ea7061215" alt="Amit Singh" width="150" height="150" />
                    <br>
                    <b>Amit Singh</b><br>
                    <div>Lead Engineer</div>
                </a>
            </td>
            <td align="center">
                <a href="https://www.linkedin.com/in/vikacxio/" target="_blank" title="Vikas Kumar">
                    <img src="https://github.com/user-attachments/assets/c8968105-544a-428c-a6ed-1989d0d28696" alt="Vikas Kumar" width="150" height="150" />
                    <br>
                    <b>Vikas Kumar</b><br>
                    <div>Software Engineer</div>
                </a>
            </td>
            <td align="center">
                <a href="https://www.linkedin.com/in/prince-tiwari-622b36217/" target="_blank" title="Prince Tiwari">
                    <img src="https://github.com/user-attachments/assets/903c9136-5f82-4310-9dfe-c06b6e8893d7" alt="Prince Tiwari" width="150" height="150" />
                    <br>
                    <b>Prince Tiwari</b><br>
                    <div>Software Engineer</div>
                </a>
            </td>
            <td align="center">
                <a href="https://www.linkedin.com/in/manoj-meghwal-295455199/" target="_blank" title="Manoj Meghwal">
                    <img src="https://github.com/user-attachments/assets/0cdfa2d1-7f9f-4322-8d9e-fd199e2822a5" alt="Manoj Meghwal" width="150" height="150" />
                    <br>
                    <b>Manoj Meghwal</b><br>
                    <div>Frontend Developer</div>
                </a>
            </td>
            <td align="center">
                <a href="https://www.linkedin.com/in/iamjunaidr/" target="_blank" title="Mohammad Junaid Raza">
                    <img src="https://github.com/user-attachments/assets/0d70afb0-dffd-4e49-9b7b-e92752c3f08e" alt="Mohammad Junaid Raza" width="150" height="150" />
                    <br>
                    <b>Mohammad Junaid Raza</b><br>
                    <div>Senior Software Engineer</div>
                </a>
            </td>
            <td align="center">
                <a href="https://www.linkedin.com/in/piyush-singh-251546227/" target="_blank" title="Piyush Singh">
                    <img src="https://github.com/user-attachments/assets/777a7343-bbf6-4960-a839-bcf21fa7cf26" alt="Piyush Singh" width="150" height="150" />
                    <br>
                    <b>Piyush Singh</b><br>
                    <div>Senior Software Engineer</div>
                </a>
            </td>
        </tr>
    </table>
</p>

**[⬆ Back to Top](#table-of-contents)**

# Project Flow

<img src="https://github.com/user-attachments/assets/0cdfa2d1-7f9f-4322-8d9e-fd199e2822a5" alt="Not Found" />

![Screenshot from 2024-10-12 11-14-51](https://github.com/user-attachments/assets/09fb92ec-f1df-437f-8176-7af2806802a3)

![Screenshot from 2024-10-12 11-16-17](https://github.com/user-attachments/assets/198ade0f-302e-4807-977e-14338979595f)

![Screenshot from 2024-10-12 11-16-45](https://github.com/user-attachments/assets/cbbf262e-ed5b-4d7b-bdb8-388589a2a6c8)

![Screenshot from 2024-10-12 11-17-00](https://github.com/user-attachments/assets/a6627fce-03cb-42a8-bf52-98af1edad144)

![Screenshot from 2024-10-12 11-17-11](https://github.com/user-attachments/assets/a32b713d-3e7a-45b5-bcbd-a5f96bf8affc)


![Screenshot from 2024-10-12 11-17-30](https://github.com/user-attachments/assets/58f7a38a-030c-42ab-8497-5814c49a4a7a)

![Screenshot from 2024-10-12 11-18-47](https://github.com/user-attachments/assets/48baf521-cbde-4a9d-866d-873f6b6be21b)

![Screenshot from 2024-10-12 11-19-39](https://github.com/user-attachments/assets/6bc173a3-03e5-40ae-a64d-7e3f5345b552)


![Screenshot from 2024-10-12 11-23-04](https://github.com/user-attachments/assets/cc07f6e9-c1a7-451f-b18f-a2c1e1a58b21)

![Screenshot from 2024-10-12 11-40-25](https://github.com/user-attachments/assets/a00c37c9-6221-40d0-b799-0073692fc860)

![Screenshot from 2024-10-12 11-40-40](https://github.com/user-attachments/assets/5159e127-676c-4233-89fd-c9c31a92291b)



![Screenshot from 2024-10-12 11-40-59](https://github.com/user-attachments/assets/562edc23-f82a-4531-99e5-3abce8740452)

![Screenshot from 2024-10-12 11-41-14](https://github.com/user-attachments/assets/1595d490-737b-4c38-b64d-00209fbc70a7)

![Screenshot from 2024-10-12 11-42-26](https://github.com/user-attachments/assets/135bef47-34e6-47df-91c7-f22f55ef06c4)












**[⬆ Back to Top](#table-of-contents)**

# My Contributions

### Task 1: (MAAS-1012) Implement Project Exposure Calculation and Display

**Description:**

Develop and integrate the logic for calculating and displaying Project Exposure, Customer Exposure, and Supplier Exposure in the Project Financials section of the MaaS project. The exposure metrics are crucial for tracking the financial health of the project, particularly highlighting the gaps between customer receivables and supplier payables.

The logic to be implemented for each exposure type is as follows:

**Project Exposure:** `Project Exposure = Customer Exposure − Supplier Exposure`

**Supplier Exposure:** `Supplier Exposure = Amount Payable − Supplier Payment Done − Supplier RM Supplied`

**Customer Exposure:** `Customer Exposure = Customer Payment Received − Amount Receivables`

The calculated values should be displayed in the Project Financials section with a user-friendly interface, aligning with the UX design provided in Flow 1.

**Impact:**

- Improved Financial Transparency: Providing real-time visibility into project financials allows stakeholders to monitor customer payments and supplier liabilities, leading to better decision-making and project financial management.
- Risk Mitigation: By showing the differences between Customer Exposure and Supplier Exposure, potential financial risks can be flagged early, helping mitigate cash flow issues.
- Streamlined Financial Management: Clear visibility of Project Exposure aids project managers in evaluating financial gaps, ensuring that any shortfalls or surpluses are addressed promptly.
- Enhanced Reporting: This feature simplifies financial reporting for stakeholders, enabling them to assess the overall financial status of a project at any given point.

### Task 2: (MAAS-1018) Implementation of BOM for Drafted

**Task Description:**

Implement the Bill of Materials (BOM) Changes for the drafted stage of the project and ensure that the necessary features and UI elements are added for seamless user interaction. The key requirements are as follows:

- Attach Link to Issue:
    - Implement functionality to attach the link for the current issue and display it under the Git Development Panel for easy access and tracking.
- Create New Stages via Autocomplete:
    - Add an autocomplete feature for mapping stages. When users query for a stage that does not match existing entries, provide an option to "Create New Stage". This should be facilitated using a "Create Stage" button, enabling users to create stages quickly and efficiently.
- Add Icon for Procurement Types in Stages List:
    - Display an icon next to procurement types in the Stages List section. For now, use the following icon: `<i class="ri-pages-line"></i>`
    - Ensure that the icon is placed in the correct location in the UI and adheres to the design guidelines.

**Task Impact:**

- Streamlined Workflow: By enabling the creation of new stages directly from the autocomplete feature, the task creation process becomes faster and more efficient, improving the user experience.
- Better Issue Tracking: Attaching the issue link in the Git Development Panel allows for easier navigation and tracking of development tasks, making - collaboration more effective for the development team.
- Enhanced Usability: Adding icons for procurement types in the Stages List improves the visual clarity and usability of the interface, helping users to quickly identify procurement-related stages.

### Task 3: (MAAS-1024) FE Implementation of Customer Payment Term

**Task Description:**

- Term Sheet Click Event:
  - When the user clicks on the "Term Sheet" button, call the following API to fetch distinct stages:
  - API: http://localhost:7073/stage/fetch-distinct-stages?projectId=468
  - Method: GET
        ```json
        [
            { "idStage": 605, "stageName": "RM Inspection" },
            { "idStage": 599, "stageName": "Black inspection" },
            { "idStage": 620, "stageName": "Final Inspection" },
            { "idStage": 601, "stageName": "Loading" }
        ]
        ```
  - Populate the Stage Select Menu with the response data for both Customer and Supplier payment stage menus.
- Fetching Customer Payment Terms:
    - After fetching the stages, call the following API to retrieve customer payment terms:
    - API: http://localhost:7073/customer-payment-term/fetch?projectId=463
    - Method: GET
    - Response
        ```json
        {
            "customerName": "Thermax Babcock & Wilcox Energy Solutions Pvt. Ltd - Pune",
            "poValue": 575454.14,
            "totalOS": 575454.14,
            "totalOD": 575454.14,
            "customerPaymentTerms": [
                {
                "projectId": 463,
                "id": 59,
                "paymentTermType": "AFTER_DISPATCH",
                "paymentPercentage": 100.0,
                "days": 45,
                "stage": null,
                "outstanding": 575454.14,
                "overdue": 575454.14,
                "cashIn": {
                    "id": 179,
                    "transactionDate": 1671215400000,
                    "cashIn": 100.0
                    }
                }
            ]
        }
        ```
- UI Changes:
    - Total Invoice Amount: Change the label to Total Po Value for both customer and supplier.
    - Total OS: Sum of all customerPaymentTerms[n].outstanding.
    - Total OD: Sum of all customerPaymentTerms[n].overdue.
    - Completion Weightage: Sum of all customerPaymentTerms[n].paymentPercentage. Show as a percentage (e.g., 10% instead of 10/100%).
- List Accordion:
    - Display payment terms in an accordion style, where each term has the following properties:
        - paymentTermType
        - paymentPercentage
        - days
        - outstanding (as OS)
        - overdue (as OD)
    - Each payment term will have Edit and Delete options.
- Edit Mode:
    - On clicking Edit, the UI changes to show Save and Delete buttons, and all fields become editable.
    - When the user clicks Save, call the following API:
        - API: http://localhost:7073/customer-payment-term/save?projectId=468
        - Method: POST
        - Request Body
        ```json
            {
                "id": 89,
                "paymentTermType": "AFTER_DISPATCH",
                "paymentPercentage": 20,
                "days": 5,
                "idStage": null
            }
        ```
        - Send idStage only if a stage is selected from the dropdown menu.
        - If id is null, a new term will be created. If id has a value, the existing term will be updated.
- Delete Functionality:
    - On clicking Delete, call the following API:
        - API: http://localhost:7073/customer-payment-term/delete?termId=90
        - Method: DELETE
        - On success, recalculate Total OS and Total OD.
- Recalculate Values:
    - After saving or deleting a payment term, recalculate:
        - Total OS: Sum of all customerPaymentTerms[n].outstanding.
        - Total OD: Sum of all customerPaymentTerms[n].overdue.

**Task Impact:**

- Enhanced User Experience: This task provides a more intuitive interface for managing customer and supplier payment terms. Users can easily edit and delete terms, improving workflow efficiency.
- Real-Time Data Handling: With immediate recalculations of Total OS and Total OD, users are presented with accurate financial data instantly.
- Streamlined Payment Management: Automating the population of stages and terms ensures consistency and accuracy across the project payment terms.

### Task 4: (MAAS-1028) Update in UI for Addition of Non-Mandatory Fields

**Task Description:**

- New Fields to be Added:
    - Rejection Quantity:
        - Default value: 0 for any new stage lot.
        - Placement: As shown in the attached picture.
    - Tolerance Quantity (tolerenceQty):
        - Default value: 0 for any new stage lot.
        - Placement: As shown in the attached picture.
- UI Calculations:
    - Completion Percentage: (completedQty + rejectionQty) / (tolerenceQty + plannedQty) * 100
    - Remaining Quantity: (tolerenceQty + plannedQty) - (completedQty + rejectionQty)
- Field Constraints:
    - Negative Values: Fields cannot have negative values.
    - Maximum Value: Fields cannot exceed the value of the Planned Quantity.
- API Reference:
    - Please refer to the API documentation: Postman API Documentation for the necessary endpoints and methods.

**Task Impact:**

- Data Integrity: By enforcing constraints on negative values and ensuring quantities don't exceed the planned quantity, this task ensures data accuracy.
- UI Enhancement: Introducing the new fields and calculations provides better tracking and visibility of project quantities, leading to more informed decision-making.
- Project Tracking: The calculated completion percentage and remaining quantities will give users a clearer understanding of the project’s status.

### Task 5: (MAAS-1030) Implementations BOM - For Other Statuses (Other than Drafted)

**Task Description:**

- API Reference:
    - URL: https://maas-dev.moglilabs.com/project/lot/stage-tracker?type=view&headerId=449&lotId=3609&lot=0
    - API to fetch data:
    - Endpoint: stage/stageLot/fetchHeader/projectId/468/lotId/3591
    - Response: trackerResponses → stageLotResponses
- Conditions for View:
    - If stageLotResponses[0].stageType === 'REGULAR', show the default view.
    - If stageLotResponses[0].stageType === 'PROCUREMENT', show the Procurement view.
- Procurement View Example:
    - API response snippet for Procurement Materials:
    ```json
        "procurementMaterials": [
            {
                "idMaterial": 1,
                "nameMaterial": "Material 1",
                "unitMaterial": "unit",
                "qtyMaterial": 2
            },
            {
                "idMaterial": 2,
                "nameMaterial": "Material 2",
                "unitMaterial": "unit",
                "qtyMaterial": 3
            }
        ]
    ```
- Views to Implement:
    - Material Details: (Change label to Material Required)
        - Fields:
            - Name: nameMaterial
            - Unit: unitMaterial
            - Required Quantity: qtyMaterial * plannedQuantity
            - Received Quantity: User-defined field: procurementMaterials[0].receivedQty
    - Material Required: (Change label to Material Details)
        - Fields:
            - Name: nameMaterial
            - Unit: unitMaterial
            - Quantity: qtyMaterial
- Value Change Events:
    - On Total Required Quantity (Planned Quantity):
        - When plannedQuantity is updated, update the Required Quantity for all materials:
            - Formula: procurementMaterials[0].requiredQty = qtyMaterial * plannedQuantity
    - On Ready for Manufacturing (Completed Quantity):
    - Calculate Ready Quantity for all materials:
    - Formula: readyQty = receivedQty / qtyMaterial
    - The minimum value of all readyQty should be used as the Ready for Manufacturing value.

**Task Impact:**

- Improved BOM Tracking: Implementing this will allow better tracking of required and received materials during procurement.
- Accurate Calculation: Real-time updates for required and ready quantities will ensure the project's manufacturing stage is based on accurate material availability.
- User Experience: The two distinct views (Regular and Procurement) will provide tailored information, enhancing user interaction and understanding of material requirements.

### Task 6: (MAAS-1044) FE - Feature Flow for BOM (DRAFTED)

**Task Description:**

- This feature is aimed at enhancing the Bill of Materials (BOM) feature when the status is Drafted.

**API Reference:**

- Endpoint: https://maas-core-dev.moglilabs.com/stage/fetch-stage-lot?projectId=508
- Sample Response:
```json
{
    "fkIdStage": 526,
    "fkIdLot": 4423,
    "idStageLot": 6658,
    "stageType": "PROCUREMENT",
    "stageLotSequence": 6658,
    "plannedStartDate": 1664476200000,
    "plannedEndDate": 1667154600000,
    "plannedQuantity": 20,
    "uom": "packet",
    "weightage": 45,
    "procurementMaterials": [
        {
            "idMaterial": 1,
            "nameMaterial": "Material 1",
            "unitMaterial": "unit",
            "qtyMaterial": 2
        },
        {
            "idMaterial": 2,
            "nameMaterial": "Material 2",
            "unitMaterial": "unit",
            "qtyMaterial": 3
        }
    ]
}
```

**Feature Flow Details:**

- When User Clicks on Edit Icon:
    - A popup will open for the user to edit the stage lot details.
    - Popup Select Option:
    - Use the stageType from the API response to map the select options inside the popup.
    - Based on the stageType:
        - If "Regular" is selected:
        - Remove the Materials Required section from the popup.
        - If "Procurement" is selected:
        - Show the Materials Required section.
        - Note: If the stageType is set to Regular, the user can change it to Procurement but cannot change it back to Regular once the selection is made.
- Material Details (When Procurement is Selected):
    - Show the material details section when Procurement is selected, using the response fields:
        - Name: nameMaterial
        - Unit: unitMaterial
        - Quantity: qtyMaterial
- Updating the Stage Lot:
    - Once the user makes the necessary changes, use the save API to update the stage lot.
    - API Endpoint: http://localhost:7073/stage/stageLot/save
    - Send the response similar to the one above, with any updated values:
```json
{
    "fkIdStage": 526,
    "fkIdLot": 4423,
    "idStageLot": 6658,
    "stageType": "PROCUREMENT",
    "stageLotSequence": 6658,
    "plannedStartDate": 1664476200000,
    "plannedEndDate": 1667154600000,
    "plannedQuantity": 20,
    "uom": "packet",
    "weightage": 45,
    "procurementMaterials": [
        {
            "idMaterial": 1,
            "nameMaterial": "Material 1",
            "unitMaterial": "unit",
            "qtyMaterial": 2
        },
        {
            "idMaterial": 2,
            "nameMaterial": "Material 2",
            "unitMaterial": "unit",
            "qtyMaterial": 3
        }
    ]
}
```
**Expected Results:**

- Dynamic Material Section: Show or hide the materials section based on the stage type.
- Save Flow: When saving the stage lot, the changes will reflect properly based on user inputs, ensuring correct procurement materials and data updates.

### Task 7: (MAAS-1054) Implementing Project Report Popup with Finance XLS Data

**Description:**

This task involves implementing functionality that allows users to view a financial report in a new tab when they click on the Finance XLS icon located on the Project List page. The report will be fetched from an API endpoint (GET: http://localhost:7073/report/fetch-finance-xls-report) and rendered as HTML content in a new browser tab. This feature aims to enhance user experience by providing quick access to detailed financial information related to projects.

**Impact:**

- Improved User Experience:
    - Users will have quick access to financial reports directly from the project list page without navigating away.
    - It reduces the number of clicks required to retrieve and view finance-related data.
- Increased Efficiency:
    - The direct display of the financial report in a new tab ensures that users do not have to manually download or process XLS files for quick views.
    - This leads to faster decision-making and streamlined report access.
- Enhanced Interface:
    - Integrating this functionality with the Git development panel ensures that the report linking and attachment process is cohesive within the overall project management workflow.
    - The Show Git Development Panel feature ensures that all related development issues, commits, and branches are linked directly to the finance report, increasing transparency and traceability during development.

### Task 8: (MAAS-1057) Frontend Implementation for Refreshing Portal after Release

**Description:**

- This task involves handling API responses with a 426 error code (Upgrade Required). When an API returns this status code, the following actions must be implemented:
- Display Message:
        - Show a message to the user retrieved from the API response (this would typically explain that an update is required).
- Refresh the Application:
    - After displaying the message, the portal should be refreshed by navigating to the same route, ensuring that the app reloads without the user losing their current position.
    - This ensures that users receive important update messages and the application automatically refreshes for them to continue using the latest version.

**Impact:**

- Improved User Experience:
    - Users will be informed when an app update is required and be guided smoothly through the process of refreshing the portal.
    - The refresh action will help avoid potential confusion or disruption during release upgrades.
- Seamless Transition Post-Update:
    - Automatically refreshing the app after showing the message ensures that the user gets the updated version without needing to manually navigate or refresh the page, reducing friction during rollouts.
- Enhanced Error Handling:
    - Handling 426 Upgrade Required error codes will ensure that the app gracefully informs users about required updates instead of failing silently.

### Task 9: (MAAS-1072) Frontend Feature Flow (Procurement) for BOM - Drafted Stage Lot

**Description:**

This task involves implementing the Procurement feature flow for Bill of Materials (BOM) in the Drafted stage of the project. It includes saving, updating, and populating the procurement materials for a stage lot. The UI will allow users to add, edit, and save materials for procurement with appropriate validation.

**UI Interaction Flow:**

- Edit Stage Lot:
    - Click on the Edit Stage Lot button to open the details for the stage lot.
- Adding New Row:
    - Click the Add New Row button to add a new material.
    - Each new row should have:
        - Name Field: Input text field (Always).
        - Unit Field: Input text field (Always).
        - Quantity Field: Input number field (Only positive numbers, non-zero, and up to 4 decimal places).
    - Validation:
        - The Add New Row button should be disabled if any of the three fields (Name, Unit, Quantity) are empty or have invalid values (e.g., empty string, space).
- Populating Data:
    - When the user closes the popup or saves the changes, the Procurement Materials section will be populated with data from the API response.
    - API for fetching stage lot details:
        - Endpoint: GET http://localhost:7073/stage/fetch-stage-lot?projectId=449
        - Use the parent API to update the response and populate rows of procurement materials (only for the Procurement stage, not regular stages).
- Header of Stage Lot Popup:
    - Change the header to:
        - Lot No. 3609 will be replaced with Fittings and Flanges (use sequenceLotName, not idLot).
    - Remove the subscript portion (as seen in the provided image).

### Task 10: (MAAS-1077) Revamp of Stage Creation (Drafted)

**Description:**

This task involves revamping the stage creation process for drafted stages by moving the functionality from a popup interface to a more streamlined view. The goal is to enhance the user experience by making stage creation easier and more accessible.

**Key Changes:**

- Move Functionality:
    - The existing stage creation functionality, currently presented in a popup (as shown in the provided image), will be moved to a dedicated section or page.
- UI Update:
    - Change the button label to:
    - "Create New Stage" (Ensure the 'C' in "Create" is capitalized, as well as the rest of the text).

**Steps for Implementation:**

- Relocate Stage Creation UI:
    - Identify the existing popup functionality and transition it into a full-page view or dedicated section.
    - Ensure all the fields and interactions from the popup are preserved in the new layout.
- Update the Button Label:
    - Update the label on the Create New Stage button to ensure it follows proper capitalization: "Create New Stage".


**Impact:**

- Improved User Flow:
    - Moving the stage creation out of a popup will reduce interruptions, providing a more fluid and accessible experience.
    - Users will have a larger workspace to input data and create new stages without dealing with the constraints of a small modal window.
- Clarity and Efficiency:
    - The updated interface will improve clarity, allowing users to focus on the task of creating a stage without distraction.
    - Ensuring consistent capitalization in UI elements (like Create New Stage) maintains a professional and polished look, contributing to overall design consistency.

### Task 11: (MAAS-1089) Fixes on StageLot Popup View (Drafted)

**Description:**

This task involves implementing several fixes and enhancements to the StageLot Popup View for drafted stages. The goal is to improve user experience by ensuring data integrity and proper visibility of required fields.

**Key Fixes and Enhancements:**

- Visibility of Add New Row Button:
    - The "Add New Row" button should always be visible and should never be hidden, ensuring users can add materials as needed without restrictions.
- Final Validation on Continue:
    - When the user clicks on Continue, perform a final check for any empty fields:
    - If any field is empty, highlight it in red and display a message, e.g., "Field name is required."
    - This will help prevent incomplete submissions and guide users to fill in all necessary information.
- Handling Quantity in Rows:
    - Upon adding a second row, ensure that the quantity field does not get removed from the first row. This ensures all input fields remain intact when users add new materials.
- Retaining Data on Popup Reopen:
    - When the user clicks on Continue, the popup should close, and upon reopening the Edit Stage Lot, the previously saved material responses should be displayed.
    - Use the response from the Save Stage Lot API call to replace the parent StageLot by its ID, ensuring that previously saved data is retained without making additional API calls.
- Delete Icon Functionality:
    - Implement the functionality for the delete icon next to each material row:
    - Clicking the delete icon should remove the corresponding created or existing row, allowing users to manage their material list effectively.

**Impact:**

- Enhanced User Experience:
    - Ensuring that the Add New Row button is always visible and validating fields will improve usability and prevent frustration when users forget to fill in required fields.
- Data Integrity:
    - Retaining previously saved data when reopening the popup ensures a smoother workflow and reduces the need for repetitive data entry, enhancing overall productivity.
- Efficient Material Management:
    - The delete functionality for material rows will allow users to manage their lists dynamically, ensuring they can remove entries as necessary without confusion.

### Task 12: (MAAS-1096) Fixes on Stage Page (Drafted)

Description:

This task involves implementing several fixes and enhancements to the Stage Page for drafted stages. The objective is to improve usability and ensure data integrity while providing a more intuitive interface.

**Key Fixes and Enhancements:**

- Maximum Limit for Stage Name:
    - Implement a character limit of 16 characters for the Stage Name input field to ensure consistency and avoid overly long names.
- Properly Disable "Create New Stage" Button:
    - Ensure the "Create New Stage" button is disabled correctly when conditions are not met, similar to how the "Report" button is disabled on the project list page.
- Update Button Label:
    - Change the label of the + Create New Stage button to + CREATE NEW STAGE to provide clearer visibility and emphasis.
- Cursor Change on Hover:
    - Implement the following cursor changes for the Stage Name div:
    - On hover: Change cursor to grab.
    - When draggable is active: Change cursor to grabbing.
- Text Placement Formatting:
    - Update the text placement for the display of dates, quantity, weightage, and sequence as follows:
- Change from:
    - Start Date : 12-Oct-2022, End Date 12-Oct-2022, Planned Quantity 2.9, Weightage 33.33%, Sequence 10191
    - To:
    - Start Date : 12-Oct-2022, End Date : 12-Oct-2022, Planned Quantity : 2.9, Weightage : 33.33%.
- Weightage Validation:
    - Implement a condition to ensure that the sum of all weightages for the stages is 100%. This condition should be checked when the user clicks the NEXT button, preventing progression if the total does not meet the requirement.

**Impact:**

- Enhanced User Experience:
    - Setting a maximum limit for the Stage Name ensures user inputs are manageable and prevents UI overflow.
    - Disabling the Create New Stage button under appropriate conditions provides a clear indication of when actions can be taken, enhancing usability.
- Improved Clarity and Formatting:
    - Changing the button label and updating text placements will create a more user-friendly interface that is easier to read and understand.
    - The cursor changes provide intuitive feedback for user interactions, enhancing overall engagement.
- Data Integrity and Validation:
    - Implementing weightage validation ensures data consistency and prevents errors related to stage weight distribution, promoting accuracy in project management.

### Task 13: (MAAS-1109) Project Navigation: Include Stages in Top Navigation Menu & Adding a Previous Button

**Description:**

This task aims to enhance project navigation by incorporating Stages in the top navigation menu and adding a Previous button to facilitate backward navigation. These changes will improve user experience and allow for smoother transitions between project components.

**Key Changes:**

- Add Stages to Navigation Menu:
    - Integrate Stages into the existing top navigation menu, enabling users to easily access the stages from any project page.
    - Ensure that the Stages menu item is visible and accessible for all users.
- Implement Navigation from Lot Page:
    - Enable navigation from the Lot Page to the Stages Page using a NEXT button.
    - Ensure that clicking the NEXT button directs users to the corresponding stages for the current project.
- Add a Previous Button:
    - Introduce a Previous button located to the left of the NEXT button for easy backward navigation.
    - The Previous button should be consistently visible across all types of projects, providing a straightforward way for users to return to the prior view.

**Impact:**

- Improved Navigation Flow:
     -Adding Stages to the navigation menu allows users to quickly switch between project components, enhancing workflow efficiency.
    - The Previous button provides users with a simple means to navigate back without needing to rely on browser back functionality.
- Enhanced User Experience:
    - Simplifying navigation helps users to feel more in control of their project flow, leading to increased satisfaction and productivity.
    - Clear navigation pathways contribute to a more intuitive interface, making it easier for users to access important project information.
- Consistent Accessibility:
    - The visibility of the Previous button across all project types ensures a uniform experience, reducing confusion and enhancing usability.

### Task 14: (MAAS-1130) New Changes from Ruchi: Drafted BOM Stage Creation Page

**Description:**

This task involves implementing new changes to the Drafted BOM Stage Creation page as per the latest requirements provided by Ruchi. The changes aim to enhance the user interface and streamline the data entry process.

**Key Changes:**

- Add Icon Beside Stage Name:
    - Include an icon next to the Stage Name field to enhance visual appeal and provide a clearer indication of the purpose of the field.
    - The icon to be added is <i class="ri-pages-line"></i>.
    - Placement: The icon should be positioned next to the Stage Name input field, specifically for stages of type PROCUREMENT.
- Remove Stage Sequence Input Field:
    - Eliminate the Stage Sequence input field from the Drafted BOM Stage Creation page to simplify the form and reduce potential input errors.
    - Ensure that the removal does not impact other functionalities or data validation processes associated with stage creation.

**Impact:**

- Improved User Experience:
    - Adding the icon provides users with visual cues, improving the overall user experience and making the interface more intuitive.
    - Removing the unnecessary input field streamlines the stage creation process, making it faster and more efficient.
- Enhanced Clarity:
    - The icon next to the Stage Name helps in quickly identifying the purpose of the field, reducing ambiguity for users during data entry.
    - Simplifying the form by removing the Stage Sequence field minimizes confusion and focuses users on the most relevant inputs.

### Task 15: (MAAS-1134) UI Fixes in BOM Stage Tracking Page

**Description:**

This task involves making essential UI fixes to the BOM Stage Tracking page on the MaaS | Moglix platform (QA environment). These updates aim to enhance user experience and improve data visibility on the page.

**Key Changes:**

- Addition of Input Date Fields:
    - Fields to be Added:
        - Forecast Start Date
        - Forecast End Date
        - Actual Start Date
        - Actual End Date
    - Placement: The input fields should be arranged according to the provided layout in the reference image below:
- Add Display Texts Below Existing Fields:
    - Text to be Added:
        - Add display texts below the Ready for Manufacturing and Total Required Qty fields for better context and information clarity.
        - Reference Layout: The texts should follow the layout as shown in the image below:
- Changes in Table of BOM:
    - Table Enhancements:
        - Add the class scrollbar to the table div to ensure better scrolling functionality.
        - Implement a fixed header for the table to improve the readability of the column headers while scrolling through the BOM items.

**Impact:**

- Enhanced User Interface:
    - The addition of date fields allows users to input and track critical project timelines more effectively.
    - Display texts provide necessary information, improving user understanding and reducing errors during data entry.
- Improved Usability:
    - A fixed header in the BOM table makes it easier for users to keep track of the columns while scrolling through large datasets.
    - The scrollbar class improves the overall scrolling experience, especially when dealing with extensive BOM lists.

### Task 16: (MAAS-1138) Weightage - For Drafted Check

**Description:**

This task involves implementing an API call to auto-populate the weightage in the drafted check section. The goal is to ensure that the weightage for stages and lots is calculated accurately, providing users with a clear understanding of project progress.

**Implementation Steps:**

- API Call to Auto Populate Weightage:
    - API Endpoint: http://localhost:7073/project/autoUpdate/weightage/468
    - Method: PUT
    - Parameters: 468 (projectId) should be dynamically replaced based on the project being processed.
    - Response Handling:
        - On receiving a 200 OK response from the API, trigger a second API call to fetch updated stage lot data.
- Fetch Stage Lot Data:
    - Call the API: http://localhost:7073/stage/fetch-stage-lot?projectId=468
    - This API will retrieve the latest stage lot data necessary to repopulate the UI.
- Calculating Weightage:
    - Top Lot Weightage:
        - Calculate the total weightage for the top lot by summing the weightage of all associated stages.
    - Top Overall Progress Weightage:
        - Compute the overall project progress weightage by summing all lot weightages.
- UI Updates:
    - Display the calculated top lot weightage in the UI where relevant.
    - Show the top overall progress weightage, incorporating an animated progress bar if feasible.
    - Ensure that the UI updates dynamically after the weightage is populated.
- Animation for Progress Bar (Optional):
    - If possible, add a smooth animation effect to the progress bar that visually represents the weightage updates. This could involve gradually increasing the filled portion of the bar as the calculations are completed.

**Impact:**

- Accurate Weightage Representation:
    - The implementation will ensure that users have access to the most current and accurate weightage data, enabling better decision-making and project tracking.
- Enhanced User Experience:
    - The addition of an animated progress bar will provide users with a visually engaging way to monitor project progress, improving overall user satisfaction and interaction with the application.
- Efficiency Improvements:
    - Automatically updating weightage and recalculating stage and lot weights minimizes manual input errors and ensures consistency across project tracking.

### Task 17: (MAAS-1168) Project List: Store Filter Values for Session Management

**Description:**

This task focuses on enhancing user experience on the project list page by maintaining filter values across sessions. The objective is to ensure that selected filter values persist even when users navigate away from the page, providing a seamless experience without requiring users to reapply filters.

**Impact:**

- Improved User Experience:
    - Users will appreciate the convenience of not having to reapply filters after navigating away and returning to the project list page.
- Efficiency:
    - This feature reduces the time spent on re-selecting filters, allowing users to focus on their tasks more effectively.
- State Persistence:
    - By storing filter values in sessionStorage, the application can maintain the state of user selections, enhancing the overall reliability of the filtering mechanism.

### Task 18: (MAAS-1171) UI Fix for Po Qty & Indian Currency Format in 'More Details' Section

**Description:**

This task involves updating the display format for Purchase Order (Po) Quantity to ensure it is limited to two decimal places. Additionally, the Indian currency format should be applied to the amount, with proper commas and a fixed two-decimal display.

**Impact:**

- Enhanced Readability:
    - Ensuring Po Qty is always displayed with two decimals improves data clarity and consistency.
    - The Indian currency format (₹ 2,12,12,121.00) is more familiar to users in India, enhancing readability and user experience.
- Professional Appearance:
    - Formatting numbers appropriately lends a polished, professional look to the UI, making the system appear more reliable and user-friendly.

### Task 19: (MAAS-1202) Reordering and Implementing SPOC Fields with Dropdown Options

**Description:**

This task involves reordering the SPOC (Single Point of Contact) fields based on the new design requirements. Two fields, Product Manager SPOC and Sales SPOC, will be mandatory and should be placed in the header. The input for these fields will be converted into dropdown menus, with options fetched from the provided API.

**Impact:**

- Improved User Experience:
    - Users can easily select the relevant SPOC from dropdowns, reducing input errors and improving form usability.
    - Mandatory fields ensure critical information is always provided.
- Seamless Integration with API:
    - The API binding ensures that the latest SPOC options are dynamically fetched, providing up-to-date choices for users.

### Task 20: (MAAS-1212) Update API Documentation and Implement Changes for Sales POC in Project Header

**Summary:**

This update involves making adjustments to the API interactions related to Sales POCs in the header of the project page. The APIs for fetching, saving, and updating project details have been modified, with additional properties introduced for handling Sales POC information. The key updates and tasks include:
- Populating Sales POCs in the header page via a dropdown.
- Saving/Updating Sales POCs with selected IDs.
- Mapping Sales POC Data to dropdown options based on the response.
- Modifying UI Elements: Renaming the Sales POC header to 'Project Manager' and removing the 'Moglix Sales POC' field from the PO details.

**Impact:**

- Dropdown Integration: Adds dynamic Sales POC and Project Manager dropdowns. Potential UI performance issues with large datasets.
- Header Label Change: Renaming "Sales POC" to "Project Manager" for clarity, with possible design inconsistencies across pages.
- Input Field Removal: Simplifies the UI by removing the "Moglix Sales POC" field, but may affect backend operations if not coordinated properly.

### Task 21: (MAAS-1266) Update API Documentation and Implement Changes for Sales POC in Project Header

**Summary:**

- Enhanced Filtering: Allows users to filter projects by rating, improving project search functionality. Potential performance impact with complex queries if multiple ratings are selected.
- UI Update: Dropdown for selecting ratings (0-5) will be added, ensuring users can filter by one or more ratings simultaneously. Testing needed to ensure proper interaction with other filters.
- Backend Modification: API update to include the new 'rating' property in the request body.

**Impact:**

- Enhanced Search: Adds rating filter (0-5) for better project filtering and discovery.
- API Update: /project/fetch-projects now supports 'rating' parameter.
- Minimal Performance Impact: Slight increase in processing time with multiple filters.
- Testing Needed: Ensure accurate filtering and UI responsiveness.

### Task 22: (MAAS-1288) Supplier RFQ Forms and Draft Mail Updates

**Summary:**

- Industrial Part Form: The "Process" field will no longer be mandatory, and the "Unit Price" field will be removed.
- Industrial Finishing Form: The "Unit Price" field will be removed.
- Industrial Additional Services Form: The "Unit Price" field will be removed.
- RFQ Draft Mail: Swap the roles of SPOCs between "CC" and "Reply To". For instance, Kaustav will be in "Reply To" and Mukul Tyagi in "CC."

**Impact:**

- Simplified Forms: Users no longer need to input "Unit Price" in the specified forms, reducing the complexity.
- Process Flexibility: Making the "Process" field non-mandatory allows more flexibility in form submission.
- Communication Alignment: Interchanging SPOCs in the RFQ email draft ensures better communication management by placing the relevant SPOC in "Reply To" for direct responses.

### Task 23: (MAAS-1310) Final Exposure Value Display and Formula Update

**Summary:**

- Exposure Value Display:
    - If the exposure value is negative, the font color will change to red.
    - If the exposure value is positive, the font color will change to green.
- Formula Update:
    - Project Exposure: Calculated as (Customer Exposure - Supplier Exposure).
    - Customer Exposure: Defined as (Net Invoice Value - Payment Received).
    - Supplier Exposure: Defined as ((Net Invoice Value - Payment Done) - Supplier CPO).

**Impact:**

- Visual Clarity: The color-coded exposure values will provide instant clarity on project status, allowing quick identification of financial health.
- Accurate Calculations: The updated formula ensures precise calculation of project exposure, leading to more informed decision-making for managing customer and supplier finances.

### Task 24: (MAAS-1318) UI Updates for CPO and SPO Accordion Details

**Description:**

- Font Size Adjustment for View Breakup Button:
    - Target the CSS selector .cpo-details button.viewbreakup.
    - Add the property: font-size: 11px; to improve text visibility on the "View Breakup" button.
- Creation of New CSS Class .po-subscript:
    - Define the class .po-subscript with the following styles:
    - {font-size: 10px; color: #818080; font-weight: 900; margin-top: 1px;}
- Add Subscript (Invoice Value - Credit Notes):
    - Customer Po: Add the new subscript under the "Net Invoice Value" in both the header and inside the accordion.
    - Supplier Po: Similarly, add the subscript below the "Net Invoice Value" in both the header and accordion sections.
- Add Subscript (Net Invoice Value - (Payment Received + Advance)):
    - Customer Po: Add this subscript below "Advance Receivable" in both the header and inside the accordion.
    - Supplier Po: Add this subscript below "Advance Payable" in both the header and inside the accordion.
- Accordion Width Adjustment:
    - Change the width of CPO and SPO accordions from 14.28% to 9.28% for better layout consistency.

**Impact:**

- Improved Readability: The reduced font size for view buttons and subscripts provides a cleaner, more consistent UI.
- Clarity in Financial Details: Subscripts under key financial fields (Net Invoice Value, Advance Receivable/Payable) offer additional financial insights at a glance.
- Layout Optimization: Adjusting accordion widths creates a more structured and aligned presentation of content.

### Task 25: (MAAS-1335) Formula Updates for Customer and Supplier Financial Calculations

**Description:**

- Customer Financial Calculations:
    - Net Invoice Value:
        - Formula: Net Invoice Value = Invoice Value - Credit Notes
    - Amount Receivables:
        - Formula: Amount Receivables = Net Invoice Value - (Payment Received + Advance)
- Supplier Financial Calculations:
    - Supplier PO:
        - Net Invoice Value:
            - Formula: Net Invoice Value = Invoice Value - Debit Notes
        - Amount Payable:
            - Formula: Amount Payable = Net Invoice Value - Payment Done
    Supplier CPO:
    - Rename: Change the label from Debit Notes to Credit Notes.
    - Net Invoice Value:
        - Formula: Net Invoice Value = Invoice Value - Credit Notes
    - Amount Receivables:
        - Formula: Amount Receivables = Net Invoice Value - Payment Received

**Impact:**

Accuracy in Financial Reporting: Updating these formulas ensures accurate calculations for receivables and payables, leading to more reliable financial data.
Clarity in Terminology: Renaming the "Debit Notes" to "Credit Notes" aligns the terminology with standard accounting practices, reducing potential confusion.
Improved User Understanding: Clear formulas for both customer and supplier sections enhance user comprehension of financial positions and obligations, facilitating better decision-making.

### Task 26: (MAAS-1349) Rearrangement of Project Financial Fields

**Description:** The project financial fields are to be rearranged in the following order based on the provided image:

- Row 1:
    - Project ID
    - Total CPO
    - Total SPO
    - GM* Planned
    - GM* Actual
    - LC, BG Charges
    - Net GM* Actual
- Row 2:
    - Project Start Date
    - End Date
    - Cash In
    - Cash Out
    - Amount Receivables
    - Amount Payable
    - Exposure
- Additionally, an information button is to be created for Net GM (Actual)* with the following labels:
    - Net GM: Value in Rs (In %)
    - Delay Interest Cost: Value in Rs (In %)
    - LC Charges: Value in Rs (In %)
    - BG Charges: Value in Rs (In %)

**Impact:**

- Enhanced User Interface: The rearrangement of fields will create a more organized and intuitive layout, improving user experience.
- Clearer Financial Overview: The information button provides users with quick access to important metrics related to the Net GM (Actual), facilitating better financial analysis and decision-making.
- Increased Accessibility: By grouping relevant financial metrics together, users can more easily navigate and understand the project's financial status.

### Task 27: (MAAS-1353) Main Menu Structure Update

**Description**

This update involves renaming the existing "Header List" to "Projects" and creating a new section in the main menu called "Reports." The "Reports" section will include the following sub-menus:
    - Exposure
    - Customer Dashboard
    - Supplier Dashboard
    - Sales Zones

The overall structure of the main menu will be as follows:

```
Projects
├── Project List
└── Unmapped PO List
Reports
├── Exposure
├── Customer Dashboard
├── Supplier Dashboard
└── Sales Zones
Master Data
├── BU Stage Mapping
└── Supplier Discovery
```

**Impact**

- User Experience: The changes will enhance user navigation by providing clearer categories and easy access to reports.
- Usability: Users will benefit from a more organized structure, making it easier to find relevant sections and sub-sections.
- Development: This change will require updates to the frontend code to reflect the new menu structure and may involve testing to ensure all links function correctly.
- Documentation: Any related user guides or documentation may need to be updated to reflect the new menu layout.

### Task 28: (MAAS-1375) Project List Update: Actual GM% Display

**Description**

This update involves modifying the pop-up in the "Project List" section to display both the Actual GM% and the Planned GM%. The following conditions will apply to the display:
Show Actual GM% alongside Planned GM% in the pop-up.
- If Actual GM% is less than Planned GM%, the font color for Actual GM% will be set to red.
- If Actual GM% is greater than or equal to Planned GM%, the font color for Actual GM% will be set to green.
- Additionally, ensure the alignment of the Sample Template button and Bulk Upload button matches the alignment of the Advance and PDC tabs.

**Impact**

- User Experience: This enhancement will provide users with a clearer understanding of their performance by visually indicating whether they are meeting, exceeding, or falling short of their planned gross margin.
- Visual Consistency: Aligning the buttons will ensure a uniform look and feel across the application, improving overall aesthetics and user navigation.
- Development: Frontend modifications will be required to implement the font color changes based on the conditions specified, as well as to align the buttons properly.
- Testing: Thorough testing will be necessary to ensure that the color changes work correctly and that button alignment is consistent across various screen sizes and resolutions.

### Task 29: (MAAS-1380) Project Exposure Value Coloring Update

**Description**

This update focuses on the visual representation of exposure values across projects, customers, and suppliers. The following changes will be implemented:
- Coloring Logic:
    - Exposure Values (for Project, Customer, Supplier) should be displayed in:
        - Red if the value is negative.
        - Green if the value is positive.
    - The use of a negative sign ( - ) will be removed for negative values; exposure values will be colored red without the sign.
- Example:
    - For Project 417, the supplier exposure was previously colored incorrectly and needs to be updated to reflect the correct color coding.
    - For Project 418, the negative sign was displayed where it should not be; ensure the exposure value is simply colored red.
- On-hover Popup Update:
    - Change the text in the on-hover popup to:
    - "Negative exposures are shown in Red, whereas Positive exposures are shown in Green."

**Impact**

- User Experience: This enhancement will improve clarity for users, allowing them to quickly identify negative and positive exposures based on color coding, enhancing decision-making.
- Data Accuracy: Removing the negative sign will streamline the presentation and reduce confusion, ensuring users focus on the color representation instead.
- Development: Adjustments will be required in the frontend code to implement the new color logic and to update the tooltip text for hover interactions.
- Testing: It will be essential to test the color-coding functionality to ensure that all exposure values are displayed correctly according to the specified logic, and that the tooltip displays the updated text as intended.

### Task 30: (MAAS-1388) Add "Revise GM Star" Button for Project Update

**Description**

This update involves adding a button to the project interface that allows users to update the GM star value for a project. The details of the implementation are as follows:
- Button Details:
    - Name: Revise GM Star
    - Placement: The button will be located near the Total Value column header in the project list.
- Functionality:
    - API Endpoint: http://localhost:7073/project/update-project-gm-star
    - HTTP Method: PUT
    - Behavior:
        - The button will be disabled during the API call to prevent multiple clicks.
        - The UI should not reload or refresh the page while the API request is in progress.
        - The button should re-enable once the API response is received.

**Impact**

- User Experience: This enhancement will allow users to update the GM star value conveniently, improving the overall usability of the project management interface.
- Data Integrity: Disabling the button during the API call will prevent accidental multiple submissions, ensuring data integrity and consistent updates.
- Development: Implementation will require updates to the frontend code to add the button and handle the API call with the specified behavior.
- Testing: It will be essential to test the button functionality to ensure it correctly interacts with the API and handles the enabling/disabling behavior as intended.

### Task 31: (MAAS-1406) Enhancements to Internal Customer Report (WSR)

**Description**

This update introduces several enhancements to the Customer WSR (Work in Progress Report) to improve usability and functionality:

1. Remarks Column:
    - New Column: Add a Remarks column against each stage in the customer report.
    - Dropdown Standardization: Remarks will be standardized through a dropdown menu for each stage.
    - Editability: Customer remarks can be edited from the Stage Tracker Page.
    - Editing Interface: Users can edit customer remarks from the Stage Popup in the Remarks Section.
    - Sorting: The dropdown will present an alphabetically sorted list of customer remarks.
    - Search and Select Options: Users can search for remarks and select multiple options.
    - Multi-Select: Selected remarks will be displayed as comma-separated values.
    - Custom Remark Option: Include an "Other" option allowing users to enter a single custom remark (32-character limit).
    - Saving: All inputs must be saved by clicking the Save button.
2. Draft Mail Provision:
    - Draft WSR Button: A new button to draft an email for sending customer reports from the portal.
    - Mail Draft Popup: Clicking on Draft WSR will open a separate popup for drafting the mail.
    - Mail Options: Users can add recipients, attachments, and edit the mail body content when drafting the customer report.
    - Default Attachment: The Customer Report.xls will be automatically attached to the draft mail.
    - Supported Formats: Other supported attachment formats include Doc, PDF, JPG, JPEG, PNG.
    - Add Attachment Button: An Add Attachment button will allow users to upload additional files. Clicking on any attached file will initiate a download.
3. Mail Content Structure:
    - Default Values:
        - Subject: "Work in Progress Report for Project [Project ID: Name]"
        - To: [Placeholder text: "Please enter Customer Email ID"]
        - CC: [Project Manager Email ID; Sourcer Email ID]
        - Attachments: [Customer Project Report.xls]
        - Body:
        ```tex
        Dear Sir/Madam,

        Greetings from Moglix!

        Please find the Work in Progress Report for the project [Project ID: Name] attached with this mail, along with other relevant attachments if any.

        Kindly contact the following in case of any queries:
        [Sourcer Name][Sourcer Email ID]
        ```

**Impact**

- User Experience: The addition of the remarks column and standardized dropdowns will enhance user interactions, making it easier to provide feedback on project stages.
- Efficiency: Drafting emails directly from the portal streamlines communication processes, saving time for users.
- Customization: The option to add custom remarks and additional attachments provides users with flexibility and caters to specific reporting needs.
- Development: The implementation will require updates to the frontend and backend to accommodate the new features and ensure seamless integration.
- Testing: Comprehensive testing will be necessary to validate all functionalities, including remark edits, email drafts, and attachment handling.

### Task 32: (MAAS-1424) Improvements to PDC Functionality

**Description**

This update includes several enhancements to the PDC functionality to improve user experience and ensure data integrity:

1. Table Header Improvements:
    - Z-Index Adjustment: Add a z-index to the table headers in both PDC and Advance sections to improve the visibility of headers during scrolling.
2. Field Modifications:
    - Date Field Update:
        - Rename Date to Transaction Date.
        - Change Transaction Date to a non-mandatory field.
    - UTR Number Change:
        - Rename UTR numbers to UTR Number.
        - Change the UTR number field from a numeric field to an alphanumeric field.
        - Ensure that no spaces are allowed in the UTR number.
        - Implement the same condition for the cheque number field.
3. Field Validations:
    - Disable Credited Option:
        - The Credited option should be disabled if the transaction number for that particular PDC is null.
    - Amount Validation:
        - Ensure that the Amount cannot be 0.
        - Make Cheque Number and Amount mandatory fields.
4. API Call Conditions:
    - Conditional Save API Call:
        - The Save API should only be called if Cheque Number and Amount are not null.
        - If either field is null, display an error message to the user.
5. Additional Improvements:
    - Remove Popup Button: Remove the popup button from *Net GM(Planned)**.
    - Multiple PO Addition: Fix the provision to allow the addition of multiple POs in the header.

**Impact**

- User Experience: Enhancements to the table header visibility and field modifications will streamline the user interface, making it more intuitive.
- Data Integrity: Implementing field validations will ensure that only valid data is submitted, reducing errors in processing.
- Functionality: Conditional API calls will prevent unnecessary interactions with the backend, enhancing performance and reducing load.
- Development: The implementation of these changes will require updates to the frontend validation logic, backend API handling, and user interface elements.
- Testing: Comprehensive testing will be necessary to ensure that all changes function as intended and do not introduce new issues.

### Task 32: (MAAS-1439) Display of Revised CPO Value in Project Header

**Description**

This update introduces a new feature to enhance the visibility of the Revised CPO (Contract Purchase Order) value in the project header.

**Key Changes:**

- Field Addition:
    - Location: In the Project Header under PO Details.
    - New Field: Add a non-editable field labeled Revised Value (Incl Tax) immediately after the Total Value field.
    - API Source: The value for this field will be retrieved from the API.
- Conditional Visibility:
    - The Revised Value field will only be displayed if the retrieved value is not null. If the value is null, this field will be hidden.
- Color Coding:
    - The field will be color-coded based on the comparison between the Revised Value and the Total Value:
    - Red: If the Revised Value is less than the Total Value.
    - Green: If the Revised Value is greater than the Total Value.

**Impact**

- Improved Clarity: Displaying the revised CPO value directly in the project header provides immediate visibility into any changes, helping users to make informed decisions.
- User Experience: The color-coding enhances the user interface by quickly conveying the status of the revised value compared to the total value, allowing for quicker assessments.
- Data Integrity: Ensuring that the revised value is only shown when available prevents confusion caused by displaying empty fields.
- Development: Implementation will require adjustments to the frontend to integrate the new field and its conditional logic.
- Testing: Comprehensive testing will be necessary to ensure the new field behaves as expected under various scenarios, including when the value is null.

### Task 33: (MAAS-1461) Implementation of PO Limit for Partial Payments in Project Financials

**Description**

This update introduces a maximum limit for partial payments within the Project Financials section to ensure better financial control.

- PO Limit Implementation:
    - In the Project Financials section, set the limit for the input amount field for partial payments to ₹100 Crore (100,000,000).
    - If the input exceeds this limit, the value should be capped, and an appropriate message should be displayed to inform the user.
- Maximum Limit Setting:
    - Define the maximum allowable input value for the partial payment as 1000000000 (equivalent to ₹100 Crore).
    - Ensure that the interface does not allow values exceeding this limit.

**Impact**

- Financial Control: Implementing a limit on partial payments helps maintain budgetary discipline and ensures that project financials remain within approved thresholds.
- User Experience: Capping the input amount and providing feedback on invalid entries will enhance the user experience by preventing confusion and ensuring compliance with financial limits.
- Data Integrity: Restricting input values helps avoid erroneous data entry, thus maintaining the integrity of financial records.
- Development: The implementation will require modifications to the input field validation logic within the Project Financials interface.
- Testing: Thorough testing will be necessary to verify that the input limits function correctly and that users receive appropriate feedback when attempting to exceed the limit.

### Task 34: (MAAS-1469) Enhancements in Project Header and Stage Tracker

**Description**

This update aims to improve the user interface and functionality of the Project Header and Stage Tracker sections by implementing several enhancements.

**Key Changes:**

- Reduce Padding in Project Header:
    - Minimize the padding in the project header section to reduce empty spaces, creating a more compact and user-friendly view.
- Delete PO Button Behavior:
    - If the Delete PO button is disabled (for cases where there is only a single PO), hide the button completely instead of leaving it disabled.
- Stage Tracker Placeholder Behavior:
    - In the Stage Tracker, if there is a date value present in either Forecasted Dates or Actual Dates, remove the placeholder text. Retain the placeholder text only if no dates are present.
- Hide 'Saved in' Section:
    - Remove the Saved in section from the Stage Pop-up: Remarks Section to streamline the interface.
- Remove Edit Title Feature:
    - Eliminate the Edit Title Feature and the Remaining Character Text. Remarks will now be named based on the creation date.
- Rename WSR Remarks:
    - Change the label WSR Remarks to Customer WPR Remarks for clarity.
- Fix Icon and Text Alignment:
    - Adjust the alignment of icons and text in the Payment Milestones section to ensure a consistent and professional appearance.
- Add Link to PO in EOC:
    - Integrate a link to the PO in the EOC from the Project Financials: CPO Accordion. Reference the EOC link for Project 509 CPO (Moglix - EOC).
- Remove Download Section:
    - Eliminate the Download Section from the Project Financials: CPO Accordion for a cleaner layout.
- Completion Percentage Calculation:
    - Review and correct the completion percentage calculation for Project 509 in the OPTCL stage, where it is currently displaying 319.61%.

**Impact**

- User Experience Improvement: Reducing padding and hiding unnecessary elements will create a more streamlined and user-friendly interface.
- Enhanced Functionality: Hiding the Delete PO button when not applicable and ensuring placeholder texts behave correctly will improve usability and clarity.
- Clarity in Communication: Renaming remarks and removing unnecessary features will lead to clearer communication of project statuses.
- Visual Consistency: Fixing alignment issues will enhance the overall visual appeal and professionalism of the application.
- Data Integrity: Reviewing completion percentage calculations will ensure accurate reporting and decision-making.

### Task 35: (MAAS-1399) Project List: Statistical Summary of Projects by Status

**Description**

This update introduces a statistical summary feature for the Project List, providing users with a quick overview of the status of projects displayed in the list. The statistics will dynamically update based on any applied search filters, ensuring accuracy in the counts presented.

**Statistics to be Displayed:**

- Total Projects:
    - Displays the total number of projects currently visible in the list, reflecting any filters or searches applied.
- Drafted:
    - Counts the number of projects in the Drafted status.
- Created:
    - Counts the number of projects that have been Created but are not yet in progress.
- In Progress:
    - Counts the number of projects that are currently In Progress.
- Completed:
    - Counts the number of projects that have been marked as Completed.
- Rework:
    - Counts the number of projects that are in the Rework stage.
- Canceled:
    - Counts the number of projects that have been Canceled.

**Impact**

- Enhanced User Insight: Providing a statistical summary will give users a quick overview of project statuses, helping them assess the overall health of projects at a glance.
- Improved Decision-Making: By displaying relevant statistics, users can make informed decisions regarding project management and resource allocation.
- Dynamic Interaction: The statistics will reflect any active filters or searches, ensuring that users have accurate and relevant information at all times.
- User Engagement: A clear and concise statistical summary can enhance user engagement with the project management system, as it simplifies the process of monitoring project statuses.

### Task 36: (MAAS-1059) Revenue Forecast Report

**Description**

The Revenue Forecast Report provides users with an overview of incoming revenues based on planned and forecasted dispatch quantities and dates for the current and upcoming months.

**Workflow Overview:**

- Duration Selection:
    - Users will select a duration from filters, ranging from the current date to the last date of the sixth month from the current month.
    - Initially, the report will show forecasts for the next 12 months, skipping the date range selector in the first iteration.
    - Example:
        - Start Date Minimum: 5/12/22
        - End Date Maximum: 30/06/23
        - Forecasting will cover up to two quarters.
- Accessing the Report:
    - The report will be available as a pop-up from the Project List under the Finance Report section.
- Revenue Report Structure:
    - Project Data: Includes Project ID + Name, Planned Duration, Delay/Ontime, CPO Value, Total Quantity.
    - Invoice Done: Displays the total invoices completed to date, shown in green font.
    - Pop-up for Invoice Breakdown:
        - Fields: Moglix PO No., Invoice No., Invoice Value, Invoice Date.
- Invoice To be Done (Planned):
    - Shows invoices to be done (CPO Value - Invoiced Amount), distributed across different months based on quantities left to be dispatched from each LOT.
    - Assumes invoicing occurs post-dispatch, ignoring existing payment terms.
    - Pop-up with breakup for different LOTS, displaying:
        - Lot No., Remaining Quantity, Invoice Amount, Invoice Date.
- Invoice To be Done (Forecasted):
    - Initially mirrors the Invoice To be Done (Planned) data but allows users to split dispatch quantities into sets with corresponding dispatch dates.
    - Validation messages to ensure data integrity during the splitting process:
        - Error Messages:
            - "Total remaining quantities should match."
            - "Please Enter Remaining Quantity."
            - "Please Enter Due Date."
    - The invoice amount will be calculated based on the ratio of split quantities.
- UI Features:
    - Separate tabs for Invoice To be Done (Planned) and Invoice To be Done (Forecasted).
    - Highlighting: The Invoice To be Done (Forecasted) section will be emphasized.
    - Each month will display the sum total of Invoice To be Done (Forecasted) for that month.

**Calculations:**

- Expected Invoice Amounts:
    - Spread across incomplete lots based on the remaining quantity of the last stage in each LOT.
- Expected Date of Invoice:
    - Calculation based on the completion rate of each stage and expected days to complete for each lot.
    - Formula:
        - Each Stage Completion Rate = ForecastedRange(ForecastedEnd−Start) / (Planned + Tolerance Quantity).
        - Expected Days to Complete = (RemainingQuantityofStage−RemainingQuantityofallPreviousStages) x Sum of (Completion Rate of the Stage + Completion Rate of All Succeeding Stages).
        - Expected Date of Invoice = Current Date + Expected Days to Complete Lot.

**Impact**

- Enhanced Revenue Visibility: The report provides a clear forecast of incoming revenues, allowing for better financial planning and resource allocation.
- User Empowerment: Users can manipulate data based on their needs, with immediate feedback through error messages to maintain data integrity.
- Improved Decision-Making: By forecasting invoices based on real data, users can make informed decisions regarding production and dispatch.
- User-Friendly Interface: A well-structured pop-up with intuitive navigation enhances user experience and facilitates quick access to relevant financial data.

### Task 37: (MAAS-1225) Exposure Dashboard

**Description**

The Exposure Dashboard provides a comprehensive view of Moglix's exposure to all customers and suppliers. It enables users to analyze project counts, total invoiced amounts, and overall exposure values. Users can filter and navigate through customer and supplier details to assess financial standings effectively.

**Key Features**

1. Overall Exposure Overview
    - Displays overall exposure for all customers and suppliers.
    - Key metrics include:
        - Project Count: Total number of projects associated with each customer/supplier.
        - Total Invoiced Amount: The cumulative amount invoiced to each customer/supplier.
        - Total Exposure: The overall exposure for each customer/supplier.
2. Filters
    - Search and Select Filter: Allows users to search for specific customers or suppliers by name.
    - Exposure Filter Options:
        - < 25% of Invoiced Amount
        - 25% - 50% of Invoiced Amount (≥25 and <50)
        - 50% - 75% of Invoiced Amount (≥50 and <75)
        - > 75% of Invoiced Amount (≥75)
3. Project Count Hover Pop-Up
    - Displays detailed information about all projects and their statuses for the selected customer/supplier.
4. Exposure Value Indicators
    - Positive exposure values are displayed in Green.
    - Negative exposure values are displayed in Red.
5. Exposure Info Button
    - On hover, shows the formulas used for calculating exposure values.
6. Exposure Click Pop-Up
    - Uses the existing exposure form from Project Financials, focusing on the Customer/Supplier tab.
    - Users can click on any customer/supplier to navigate to their respective pages.

**Customer Exposure Page**

- Navigation
    - Users can access this page by clicking on a specific customer entry from the Overall Exposure page.
- Key Metrics
    - Total Amount Receivables: Total amount due from the customer.
    - Total Payment Received: Total payments made by the customer.
    - Total Customer Exposure: Overall exposure for the selected customer.

**Project Details**

- Displays all projects associated with the selected customer, including:
    - Project ID - Name: Clickable link redirecting to the project header.
    - Status & Deviation: On hover, shows the same information as in the project list view.
    - Project Manager: Name of the project manager.
    - CPO Value: Includes a button to download the CPO PDF.
    - Total Invoiced Value: Displayed below the CPO value.
    - GM% (Actual) Value*: Includes a button to open the Actual GM*% calculation pop-up.
    - GM%(Planned) Value*: Displayed below the Actual Value.
    - Net GM% (Actual): Info hover shows Delay Interest Cost, Net GM%, and Net GM Absolute Value.
    - Exposure: Button to open the exposure pop-up, focused on the customer tab.
    - Forecasted Revenue: Displays the forecasted revenue amount and date for all pending lots.

**Supplier Dashboard Page**

- Navigation
    - Users can access this page by clicking on a specific supplier entry from the Overall Exposure page.
- Key Metrics
    - Total Amount Payable: Total amount due to the supplier.
    - Total Payment Done: Total payments made to the supplier.
    - Total Supplier CPO: Total CPO for the supplier.
    - Total Supplier Exposure: Overall exposure for the selected supplier.
- Project Details
    - Displays all projects associated with the selected supplier, including:
        - Project ID - Name: Clickable link redirecting to the project header.
        - Status & Deviation: On hover, shows the same information as in the project list view.
        - Project Manager: Name of the project manager.
        - SPO Value: Includes a button to download the SPO PDF.
        - Total Invoiced Value: Displayed below the SPO value.
        - Supplier CPO Value: Displayed for reference.
        - GM% (Planned) Value*: Displayed under the Actual Value.
        - GM% (Actual) Value*: Includes a button to open the Actual GM*% calculation pop-up.
        - Net GM% (Actual): Info hover shows Delay Interest Cost, Net GM%, and Net GM Absolute Value.
        - Exposure: Button to open the exposure pop-up, focused on the customer tab.

**Impact**

- Improved Financial Analysis: Provides a clear understanding of exposure levels to help make informed decisions.
- Enhanced Navigation: Easy access to customer and supplier details improves usability and efficiency.
- Better Project Tracking: Allows for monitoring of project statuses and financial standings in real-time.
- Data-Driven Insights: Users can leverage insights from the dashboard to optimize customer/supplier relationships and manage financial risks effectively.

### Task 38: (MAAS-1572) Update Rupees Number Format to Indian Format in Overall Application

**Description**

This update involves formatting currency values throughout the application to adhere to the Indian number format. The implementation will ensure that:

- Decimal Handling:
    - If the amount is a whole number, it will be displayed without decimals.
        - Example: 4562 will show as 4562.
    - If the amount has decimals, it will show up to two decimal places.
        - Example: 4562.345 will show as 4562.34.
- Currency Formatting:
    - All currency values will be prefixed with the Indian Rupee symbol (₹).
    - Values will be formatted according to the Indian numbering system, using commas for lakhs and crores.
        - Example: 4562383 will be formatted as ₹45,62,383.
- Implementation:
    - Update the existing currencyFormatter function to apply the new formatting rules.
    - Ensure that this formatter is utilized consistently in all areas of the application where monetary values are displayed.

**Affected Areas:**

- Planned Cash In/Cash Out (Header): Ensure that monetary values in this section adhere to the new formatting standards.
- Customer Advances and PDCs (Total Amount) - Advances Tab: Update the formatting for total amounts displayed in this tab.
- Customer Advances and PDCs (Total Amount and Total Credit Amount) - PDCs Tab: Ensure that both total amounts and total credit amounts are formatted correctly.
- Payment Percentage (PO Value) - Supplier Tab: Update the display of PO values to reflect the new currency format.

**Impact**

- Consistency Across the Application: Standardizing currency formatting will enhance the user experience by providing a familiar and easily readable format for users in India.
- Improved Readability: By adhering to the Indian numbering system and currency representation, users can quickly interpret financial information without confusion.
- User Confidence: Proper formatting will build user trust in the application, ensuring that financial data is presented accurately and professionally.
Ease of Maintenance: Centralizing the currency formatting logic in the currencyFormatter function will simplify future updates and maintenance.

### Task 39: (MAAS-1402) Documents Tab: Categorization and Tagging

**Description**

The objective is to establish a comprehensive knowledge repository for project-related documents, including attachments, progress reports, and financial reports. This feature will enhance document management and accessibility within the Knowledge Centre of the application.

**Key Components:**

- Project Documents Section:
    - A new section called Project Documents will be added, accessible from the Knowledge Centre main menu.
    - This section will display all documents associated with all MAAS projects.
    - Users will have the ability to search and filter documents efficiently.
- Individual Project Level Updates:
    - The existing More Details section of individual projects will be restructured into two distinct parts: Project Milestones and Project Documents.
    - By default, the Project Milestones section will be displayed first, with a link provided to access the Project Documents section.
- Attachment Management:
    - The current attachment section in More Details will be removed and replaced with a dedicated Project Documents section to display all attachments related to a specific project.
- Dropdown for Document Classification:
    - A dropdown menu will be introduced to classify the type of attachment with standard document names.
- Fields for Each Attachment:
    - The following fields will be added for each attachment:
        - Created Date: Timestamp indicating when the document was created.
        - Document Type: Dropdown for selecting the type of document, with options including:
            - Costing Sheet
            - PO Documents
            - Customer Documents
            - Supplier Documents
            - Stage Documents
            - Approvals
        - Tag: A custom tagging field (20-40 characters) allowing users to assign relevant tags for reference purposes.
        - Download: Existing functionality to download attachments.
        - Delete: Existing functionality to delete attachments.
        - Saved In: Existing field indicating where the document is stored.

**Impact**

- Enhanced Document Management: Creating a centralized repository for project documents will improve organization and accessibility, making it easier for users to locate necessary files.
- Increased Efficiency: The search and filter functionalities will allow users to find documents quickly, reducing time spent searching for project-related materials.
- Improved User Experience: By categorizing documents and providing tagging options, users can personalize their document organization, leading to a more intuitive navigation experience.
- Streamlined Project Tracking: The separation of Project Milestones and Project Documents will facilitate clearer tracking of project progress and documentation, aiding project managers in oversight and reporting.

### Task 40: (MAAS-1548) Project Stage Delay Accountability

**Description**

The Project Stage Delay Accountability feature aims to establish a systematic approach for identifying and documenting the reasons for delays in project stages. This accountability can fall on any of the stakeholders: the Customer, Supplier, or Moglix. By implementing this feature, the project management team can ensure clarity and responsibility for delays, facilitating better communication and resolution.

**Key Components:**

- Delay Accountability Tab:
    - A new tab titled Delay Accountability will be displayed in the Stage Tracker section for all stages that are delayed.
    - This tab will not be visible for stages that are on time or ahead of schedule.
- Delay Calculation:
    - The system will automatically calculate the total delay in days for the delayed stages.
    - A pop-up will allow users to assign delay accountability to different stakeholders (Customer, Supplier, Moglix) with the option to provide remarks explaining the reasons for the delay.
- Delay Assignment:
    - Users can assign the total delay either completely or partially among the stakeholders.
    - Remarks will be captured for each accountability assignment to provide context.
- Reporting:
    - The overall delay in the project, along with a detailed breakdown by stage or lot, will be available as an HTML/Excel report.
    - This report will include the delay summary, remarks, and accountability assignments.
- Project Dashboard Integration:
    - A summary of the delays will be prominently displayed on the Project Dashboard.
    - Users can access detailed information by clicking on the delay section.

**Impact**

- Clear Accountability: By defining and documenting who is responsible for project delays, the feature enhances accountability among stakeholders, fostering a culture of responsibility.
- Improved Communication: Capturing remarks and reasons for delays allows for transparent communication and helps in addressing issues proactively.
- Data-Driven Decisions: The availability of comprehensive reports will empower project managers to analyze delay patterns and make informed decisions to mitigate future risks.
- Enhanced Project Oversight: The integration of delay summaries into the Project Dashboard provides an at-a-glance overview of project health, enabling timely interventions where necessary.

### Task 41: (MAAS-1699) Add New Status: "Short Close" for Projects

**Description**

This feature introduces a new project status, "Short Close," which is applicable when the actual required quantity is less than the planned required quantity, and the business has successfully fulfilled the actual requirement. The Short Close status will carry all the attributes and implications of the Completed status but will require specific user input when applied.

**Key Components:**

- Status Addition:
    - The Short Close status will be added to the project management workflow.
    - Users can change the status using a dropdown menu, as shown in the reference image.
- Short Close Workflow:
    - Status Flow:
        - Drafted: Assigned upon project creation.
        - Created: Assigned when all project data is completed.
        - In Progress: Assigned when any project stage has actual dates or quantities filled.
    - Users can transition from In Progress to:
        - Completed
        - Short Close
        - Cancel
    - From Completed to Rework and from Short Close or Cancel to N/A.
- Mandatory Inputs:
    - When setting a project to Short Close, users must submit a remark and upload a supporting document.
    - Remarks Field:
        - Placeholder: "Reason for Short Close"
        - Alert Text: "Remarks Required"
        - Character Limit: 500 characters.
- Visibility:
    - After submitting remarks and attachments, the information will be displayed on the Summary page.
    - The attachment name will serve as a link to preview the document.
    - Remarks will also be visible in the project status pop-up on the project list page.
- Canceled Workflow:
    - Similar to the Short Close status, setting a project to Canceled will require a remark and a supporting document.
    - Remarks Field:
        - Placeholder: "Reason for Cancellation"
        - Alert Text: "Remarks Required"
        - Character Limit: 500 characters.
- Excluded from Release:
    - Completed Workflow:
        - An error will be thrown if the project is not 100% completed when attempting to set the status to Completed.
        - If 100% complete, the status will be updated to Completed.
    - Rework Workflow:
        - Users must select the lot/sublot/stage when setting a project to Short Close.
    - Status Filters:
        - The Short Close status will be added to the status filters in the project list view.

**Impact**

- Enhanced Project Management: Introducing the Short Close status allows for better tracking and management of project requirements, ensuring that all stakeholders are aware of the project's actual status.
- Accountability and Documentation: By mandating remarks and document submissions for Short Close and Canceled statuses, the process increases accountability and provides necessary documentation for project records.
- Improved User Experience: The clear workflows and mandatory inputs streamline the process, ensuring that users are guided through the necessary steps for status changes.
- Data Integrity: The validation checks during status transitions (e.g., ensuring 100% project completion) help maintain the integrity of project data, reducing potential errors and confusion.

### Task 42: (MAAS-144) Project Creation Tracker Percentage for Project List Page

**Description**

The purpose of this feature is to provide a visual representation of the data completion status for each project in the project list. This will enable users to quickly assess which projects require additional input to ensure all necessary fields are completed.

**Key Components:**

- Data Completion Calculation:
    - The percentage of data completion will be calculated using the formula:
    - Project Data% = (Total number of completed required fields / Total number of required fields) × 100
    - The following fields will be considered for the calculation:

        | Field                                                                 | Number of Fields           |
        | --------------------------------------------------------------------- | -------------------------- |
        | Project Manager and Sales SPOC                                        | 2 fields                   |
        | Planned Dates in Stages                                               | 2 fields × No. of Stages   |
        | Stage Weightage                                                       | 1 field × No. of Stages    |
        | Customer Payment Terms                                                | 1 field                    |
        | Supplier Payment Terms                                                | 1 field × No. of Suppliers |
        | Cash In                                                               | 1 field                    |
        | Cash Out                                                              | 1 field × No. of Suppliers |
        | LOT/Sublot Quantities, SP/Unit, UOM, Due Delivery Date, Mat Code, HSN | Ignored for now            |
    - Display on Project List Page:
        - The calculated Project Data% will be displayed under the Created On Date column for each project.
        - A visual indicator (such as an icon) will be shown alongside the percentage to indicate the completion status.
    - Pop-up for Missing Data:
        - When a user clicks on the completion percentage icon, a pop-up will appear displaying the details of the missing data fields.
        - The pop-up will list each field that is incomplete, allowing users to quickly identify what needs to be addressed.

**Impact**

- Improved Project Tracking: This feature enables project managers to monitor data completeness efficiently, helping them to take corrective actions as needed.
- Enhanced User Experience: The visual representation of completion status makes it easier for users to assess project health at a glance.
- Increased Accountability: By highlighting missing fields, team members are encouraged to provide necessary information, fostering a culture of accountability.
- Data Quality Assurance: Ensuring that all required fields are completed helps maintain the integrity of project data, leading to more accurate reporting and decision-making.

### Task 43: (MAAS-1762) Customer and Supplier Outstanding and Overdue in Project Financials Section

**Description**

This feature aims to enhance the visibility of outstanding (OS) and overdue (OD) financial values for both customers and suppliers within the Project Financials section. Currently, outstanding and overdue values are only displayed in payment terms. By integrating these values into the Project Financials, stakeholders can better assess financial health and manage cash flows.

**Key Components:**

- Display Locations:
    - Overall Customer Level:
        - Display the outstanding and overdue values at the overall customer level.
    - Overall Supplier Level:
        - Show the outstanding and overdue values at the overall supplier level.
    - Individual Supplier Level:
        - Provide outstanding and overdue values for individual suppliers.
- Calculation Changes:
    - Payment Terms 1 (Case 1): Applicable to the following stages: Advance, RM Inspection, Final Inspection, Against Dispatch, Installation, Hold Warranty, GRN.
        - OS=Total PO Value (Project value from finance)×Payment Term %×Stage Completion %
        - OD=OS
        - If the stage is not mapped, assume 100% stage completion
    - Payment Terms 2 (Case 2): Applicable to After Dispatch.
      - OS=Total Invoiced Amount (from financials)×Payment Term %
      - Overdue Invoiced Value=Sum of net invoices (whose (invoice_date + payment term days) ≥current_date)
      - OD=Overdue Invoiced Value×Payment Term %

**Impact**

- Enhanced Financial Monitoring: Providing visibility into outstanding and overdue amounts allows stakeholders to better manage cash flow and make informed financial decisions.
- Improved Decision-Making: With clearer insights into customer and supplier financials, project managers can take proactive measures to address outstanding and overdue accounts.
- Increased Accountability: By tracking outstanding and overdue amounts, teams are encouraged to follow up with customers and suppliers on pending payments.
- Streamlined Financial Management: Consolidating this information within the Project Financials section reduces the need to switch between different sections, improving efficiency.

**[⬆ Back to Top](#table-of-contents)**
